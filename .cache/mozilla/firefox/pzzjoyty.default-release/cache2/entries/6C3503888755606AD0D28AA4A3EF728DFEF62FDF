if ( ! window.enview )
    window.enview = new Object();
	
if ( ! window.enview.util )
    window.enview.util = new Object();
	
enview.util.Validator = function () {  }
enview.util.Validator.prototype =
{
	validate : function(dataStructure, form)
	{
		var isValid = true;
		//alert("dataStructure.length=" + dataStructure.length);
		for(var i=0; i<dataStructure.length; i++) {
			var validations = dataStructure[i].validation.split(",");
			//alert("validations.length=" + validations.length);
			for(var j=0; j<validations.length; j++) {
				//var methodStr = "validate"+validations[j];
				//alert("methodStr=" + methodStr);
				//var method = eval( "(portalValidator.validate"+validations[j]+")" );
				//method(dataStructure[i], form);
				//this.validateRequired(dataStructure[i], form);
				//alert("method=" + validations[j]);
				switch( validations[j] ) {
					case 'Required' :
						isValid = this.validateRequired(dataStructure[i], form);
						break;
					case 'MinLength' :
						isValid = this.validateMinLength(dataStructure[i], form);
						break;
					case 'MaxLength' :
						isValid = this.validateMaxLength(dataStructure[i], form);
						break;
					case 'Mask' :
						isValid = this.validateMask(dataStructure[i], form);
						break;
					case 'Byte' :
						isValid = this.validateByte(dataStructure[i], form);
						break;
					case 'Short' :
						isValid = this.validateShort(dataStructure[i], form);
						break;
					case 'Integer' :
						isValid = this.validateInteger(dataStructure[i], form);
						break;
					case 'Float' :
						isValid = this.validateFloat(dataStructure[i], form);
						break;
					case 'Date' :
						isValid = this.validateDate(dataStructure[i], form);
						break;
					case 'IntRange' :
						isValid = this.validateIntRange(dataStructure[i], form);
						break;
					case 'FloatRange' :
						isValid = this.validateFloatRange(dataStructure[i], form);
						break;
					case 'CreditCard' :
						isValid = this.validateCreditCard(dataStructure[i], form);
						break;
					case 'Email' :
						isValid = this.validateEmail(dataStructure[i], form);
						break;
					case 'IhIdNum' :
						isValid = this.validateIhIdNum(dataStructure[i], form);
						break;
					case 'Korean' :
						isValid = this.validateKorean(dataStructure[i], form);
						break;
				}
				if( isValid == false ) return false;
			}
		}
	},
	/* ?ê¾©ë‹”åª›?ï§£ëŒ„ê²• */
	validateRequired : function(data, form) 
	{
		var isValid = true;
		//alert("data.fieldName=" + data.fieldName + ", form=" + form);
		var field = form[data.fieldName];
		//alert("data.fieldName=" + data.fieldName + ", field=" + field);
		if (field.type == 'text' ||
			field.type == 'textarea' ||
			field.type == 'file' ||
			field.type == 'select-one' ||
			field.type == 'radio' ||
			field.type == 'password') {
			
			var value = '';
			// get field's value
			if (field.type == "select-one") {
				var si = field.selectedIndex;
				if (si >= 0) {
					value = field.options[si].value;
				}
			} else {
				value = field.value;
			}
			
			if (this.trim(value).length == 0) {
			
				field.focus();
				var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
				// portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
				var msg = portalPage.getMessageResourceByParam('ev.error.validation.required', fieldName);
				alert( msg );
				isValid = false;
			}
		}
		return isValid;
	},
	// Trim whitespace from left and right sides of s.
	trim : function(s) 
	{
		return s.replace( /^\s*/, "" ).replace( /\s*$/, "" );
	},
	/* ï§¤ì’–ëƒ¼ æ¹²ëª„ì”  ï§£ëŒ„ê²• */
	validateMinLength : function(data, form) 
	{
		var isValid = true;
		var field = form[data.fieldName];
			
		if (field.type == 'text' ||
			field.type == 'textarea') {
			
			var iMin = parseInt(data.minlength);
			if ((this.trim(field.value).length > 0) && (field.value.length < iMin)) {
				field.focus();
				var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
				//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
				var msg = portalPage.getMessageResourceByParam('ev.error.validation.minlength', fieldName);
				alert( msg );
				isValid = false;
			}
		}
		return isValid;
	},
	/* ï§¤ì’•? æ¹²ëª„ì”  ï§£ëŒ„ê²• */
	validateMaxLength : function(data, form) 
	{
		//alert("data=" + data + ", form=" + form);
		var isValid = true;
		var field = form[data.fieldName];
			
		if (field.type == 'text' ||
			field.type == 'textarea') {
				
			var iMax = parseInt(data.maxlength);
			if (field.value.length > iMax) {
				field.focus();
				var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
				//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
				var msg = portalPage.getMessageResourceByParam('ev.error.validation.maxlength', fieldName);
				alert( msg );
				isValid = false;
			}
		}
		return isValid;
	},
	/* ?ëº¢í‡‹??ï§£ëŒ„ê²• */
	validateMask : function(data, form) 
	{
		var isValid = true;
		var field = form[data.fieldName];
			
		if ((field.type == 'text' || 
			 field.type == 'textarea') && 
			 (field.value.length > 0)) {
			
			if (!this.matchPattern(field.value, data.mask)) {
				field.focus();
				var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
				//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
				var msg = portalPage.getMessageResourceByParam('ev.error.validation.mask', fieldName);
				alert( msg );
				isValid = false;
			}
		}
		return isValid;
	},
	matchPattern : function(value, mask) 
	{
	   return mask.exec(value);
	},
	/* Byte??ï§£ëŒ„ê²• */
	validateByte : function(data, form) 
	{
		var bValid = true;
		var field = form[data.fieldName];
			
		if (field.type == 'text' ||
			field.type == 'textarea' ||
			field.type == 'select-one' ||
			field.type == 'radio') {

			var value = '';
			// get field's value
			if (field.type == "select-one") {
				var si = field.selectedIndex;
				if (si >= 0) {
					value = field.options[si].value;
				}
			} else {
				value = field.value;
			}
			
			if (value.length > 0) {
				if (!this.isAllDigits(value)) {
					bValid = false;
					field.focus();
					var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
					//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
					var msg = portalPage.getMessageResourceByParam('ev.error.validation.byte', fieldName);
					alert( msg );
				} else {

					var iValue = parseInt(value);
					if (isNaN(iValue) || !(iValue >= -128 && iValue <= 127)) {
						field.focus();
						var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
						//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
						var msg = portalPage.getMessageResourceByParam('ev.error.validation.byte', fieldName);
						alert( msg );
						bValid = false;
					}
				}
			}
		}
		return bValid;
	},
	/* Short??ï§£ëŒ„ê²• */
	validateShort : function(data, form) 
	{
		var bValid = true;
		var field = form[data.fieldName];
		//alert("data.fieldName=" + data.fieldName + ", form=" + form);
		if (field.type == 'text' ||
			field.type == 'textarea' ||
			field.type == 'select-one' ||
			field.type == 'radio') {
			
			var value = '';
			// get field's value
			if (field.type == "select-one") {
				var si = field.selectedIndex;
				if (si >= 0) {
					value = field.options[si].value;
				}
			} else {
				value = field.value;
			}
			
			if (value.length > 0) {
				if (!this.isAllDigits(value)) {
					bValid = false;
					field.focus();
					var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
					//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
					var msg = portalPage.getMessageResourceByParam('ev.error.validation.short', fieldName);
					alert( msg );

				} else {
			
					var iValue = parseInt(value);
					if (isNaN(iValue) || !(iValue >= -32768 && iValue <= 32767)) {
						field.focus();
						var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
						//var fieldName = portalPage.getMessageResource('pt.ev.property.' + data.fieldName);
						var msg = portalPage.getMessageResourceByParam('ev.error.validation.short', fieldName);
						alert( msg );
						bValid = false;
					}
			   }
		   }
		}
		return bValid;
	},
	/* Integer??ï§£ëŒ„ê²• */
	validateInteger : function(data, form) 
	{
		var bValid = true;
		var field = form[data.fieldName];

		if (field.type == 'text' ||
			field.type == 'textarea' ||
			field.type == 'select-one' ||
			field.type == 'radio') {
			
			var value = '';
			// get field's value
			if (field.type == "select-one") {
				var si = field.selectedIndex;
				if (si >= 0) {
					value = field.options[si].value;
				}
			} else {
				value = field.value;
			}
			
			if (value.length > 0) {
			
				if (!this.isAllDigits(value)) {
					bValid = false;
					field.focus();
					var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
					//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
					var msg = portalPage.getMessageResourceByParam('ev.error.validation.integer', fieldName);
					alert( msg );
					
				} else {
					var iValue = parseInt(value);
					if (isNaN(iValue) || !(iValue >= -2147483648 && iValue <= 2147483647)) {
						field.focus();
						var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
						//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
						var msg = portalPage.getMessageResourceByParam('ev.error.validation.integer', fieldName);
						alert( msg );
						bValid = false;
				   }
			   }
		   }
		}
		return bValid;
	},
	isAllDigits : function(argvalue) 
	{
		argvalue = argvalue.toString();
		var validChars = "0123456789";
		var startFrom = 0;
		if (argvalue.substring(0, 2) == "0x") {
		   validChars = "0123456789abcdefABCDEF";
		   startFrom = 2;
		} else if (argvalue.charAt(0) == "0") {
		   validChars = "01234567";
		   startFrom = 1;
		} else if (argvalue.charAt(0) == "-") {
			startFrom = 1;
		}
		
		for (var n = startFrom; n < argvalue.length; n++) {
			if (validChars.indexOf(argvalue.substring(n, n+1)) == -1) return false;
		}
		return true;
	},
	/* Float??ï§£ëŒ„ê²• */
	validateFloat : function(data, form) 
	{
		var bValid = true;
		var field = form[data.fieldName];
			
		if (field.type == 'text' ||
			field.type == 'textarea' ||
			field.type == 'select-one' ||
			field.type == 'radio') {
			
			var value = '';
			// get field's value
			if (field.type == "select-one") {
				var si = field.selectedIndex;
				if (si >= 0) {
					value = field.options[si].value;
				}
			} else {
				value = field.value;
			}
			
			if (value.length > 0) {
				// remove '.' before checking digits
				var tempArray = value.split('.');
				var joinedString= tempArray.join('');

				if (!this.isAllDigits(joinedString)) {
					bValid = false;
					field.focus();
					var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
					//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
					var msg = portalPage.getMessageResourceByParam('ev.error.validation.float', fieldName);
					alert( msg );

				} else {
					var iValue = parseFloat(value);
					if (isNaN(iValue)) {
						field.focus();
						var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
						//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
						var msg = portalPage.getMessageResourceByParam('ev.error.validation.float', fieldName);
						alert( msg );
						bValid = false;
					}
				}
			}
		}
		return bValid;
	},
	/* Date??ï§£ëŒ„ê²• */
	validateDate : function(data, form) 
	{
	   var bValid = true;
	   var field = form[data.fieldName];
	   var datePattern = data.datePatternStrict;
	   if ((field.type == 'text' ||
			field.type == 'textarea') &&
		   (value.length > 0) &&
		   (datePattern.length > 0)) {
		 var MONTH = "MM";
		 var DAY = "dd";
		 var YEAR = "yyyy";
		 var orderMonth = datePattern.indexOf(MONTH);
		 var orderDay = datePattern.indexOf(DAY);
		 var orderYear = datePattern.indexOf(YEAR);
		 if ((orderDay < orderYear && orderDay > orderMonth)) {
			 var iDelim1 = orderMonth + MONTH.length;
			 var iDelim2 = orderDay + DAY.length;
			 var delim1 = datePattern.substring(iDelim1, iDelim1 + 1);
			 var delim2 = datePattern.substring(iDelim2, iDelim2 + 1);
			 if (iDelim1 == orderDay && iDelim2 == orderYear) {
				dateRegexp = new RegExp("^(\\d{2})(\\d{2})(\\d{4})$");
			 } else if (iDelim1 == orderDay) {
				dateRegexp = new RegExp("^(\\d{2})(\\d{2})[" + delim2 + "](\\d{4})$");
			 } else if (iDelim2 == orderYear) {
				dateRegexp = new RegExp("^(\\d{2})[" + delim1 + "](\\d{2})(\\d{4})$");
			 } else {
				dateRegexp = new RegExp("^(\\d{2})[" + delim1 + "](\\d{2})[" + delim2 + "](\\d{4})$");
			 }
			 var matched = dateRegexp.exec(value);
			 if(matched != null) {
				if (!this.isValidDate(matched[2], matched[1], matched[3])) {
					field.focus();
					var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
					//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
					var msg = portalPage.getMessageResourceByParam('ev.error.validation.date', fieldName);
					alert( msg );
				    bValid =  false;
				}
			 } else {
				field.focus();
				var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
				//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
				var msg = portalPage.getMessageResourceByParam('ev.error.validation.date', fieldName);
				alert( msg );
				bValid =  false;
			 }
		 } else if ((orderMonth < orderYear && orderMonth > orderDay)) {
			 var iDelim1 = orderDay + DAY.length;
			 var iDelim2 = orderMonth + MONTH.length;
			 var delim1 = datePattern.substring(iDelim1, iDelim1 + 1);
			 var delim2 = datePattern.substring(iDelim2, iDelim2 + 1);
			 if (iDelim1 == orderMonth && iDelim2 == orderYear) {
				 dateRegexp = new RegExp("^(\\d{2})(\\d{2})(\\d{4})$");
			 } else if (iDelim1 == orderMonth) {
				 dateRegexp = new RegExp("^(\\d{2})(\\d{2})[" + delim2 + "](\\d{4})$");
			 } else if (iDelim2 == orderYear) {
				 dateRegexp = new RegExp("^(\\d{2})[" + delim1 + "](\\d{2})(\\d{4})$");
			 } else {
				 dateRegexp = new RegExp("^(\\d{2})[" + delim1 + "](\\d{2})[" + delim2 + "](\\d{4})$");
			 }
			 var matched = dateRegexp.exec(value);
			 if(matched != null) {
				 if (!this.isValidDate(matched[1], matched[2], matched[3])) {
					field.focus();
					var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
					//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
					var msg = portalPage.getMessageResourceByParam('ev.error.validation.date', fieldName);
					alert( msg );
				    bValid =  false;
				  }
			 } else {
				 field.focus();
				 var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
				 //var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
				 var msg = portalPage.getMessageResourceByParam('ev.error.validation.date', fieldName);
				 alert( msg );
				 bValid =  false;
			 }
		 } else if ((orderMonth > orderYear && orderMonth < orderDay)) {
			 var iDelim1 = orderYear + YEAR.length;
			 var iDelim2 = orderMonth + MONTH.length;
			 var delim1 = datePattern.substring(iDelim1, iDelim1 + 1);
			 var delim2 = datePattern.substring(iDelim2, iDelim2 + 1);
			 if (iDelim1 == orderMonth && iDelim2 == orderDay) {
				 dateRegexp = new RegExp("^(\\d{4})(\\d{2})(\\d{2})$");
			 } else if (iDelim1 == orderMonth) {
				 dateRegexp = new RegExp("^(\\d{4})(\\d{2})[" + delim2 + "](\\d{2})$");
			 } else if (iDelim2 == orderDay) {
				 dateRegexp = new RegExp("^(\\d{4})[" + delim1 + "](\\d{2})(\\d{2})$");
			 } else {
				 dateRegexp = new RegExp("^(\\d{4})[" + delim1 + "](\\d{2})[" + delim2 + "](\\d{2})$");
			 }
			 var matched = dateRegexp.exec(value);
			 if(matched != null) {
				 if (!this.isValidDate(matched[3], matched[2], matched[1])) {
					 field.focus();
					 var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
					 //var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
					 var msg = portalPage.getMessageResourceByParam('ev.error.validation.date', fieldName);
					 alert( msg );
					 bValid =  false;
				  }
			  } else {
				  field.focus();
				  var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
				  //var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
				  var msg = portalPage.getMessageResourceByParam('ev.error.validation.date', fieldName);
				  alert( msg );
				  bValid =  false;
			  }
		 } else {
			 field.focus();
			 var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
			 //var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
			 var msg = portalPage.getMessageResourceByParam('ev.error.validation.date', fieldName);
			 alert( msg );
			 bValid =  false;
		 }
	  }
	   return bValid;
	},
	isValidDate : function(day, month, year) 
	{
		if (month < 1 || month > 12) {
			return false;
		}
		if (day < 1 || day > 31) {
			return false;
		}
		if ((month == 4 || month == 6 || month == 9 || month == 11) &&
			(day == 31)) {
			return false;
		}
		if (month == 2) {
			var leap = (year % 4 == 0 &&
					   (year % 100 != 0 || year % 400 == 0));
			if (day>29 || (day == 29 && !leap)) {
				return false;
			}
		}
		return true;
	},
	/* int??è¸°ë¶¿ìž ï§£ëŒ„ê²• */
	validateIntRange : function(data, form) 
	{
		var isValid = true;
		var field = form[data.fieldName];
			
		if ((field.type == 'text' ||
			 field.type == 'textarea') &&
			(field.value.length > 0)) {
			
			var iMin = parseInt(data.min);
			var iMax = parseInt(data.max);
			var iValue = parseInt(field.value);
			if (!(iValue >= iMin && iValue <= iMax)) {
				field.focus();
				var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
				//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
				var msg = portalPage.getMessageResourceByParam('ev.error.validation.intRange', fieldName);
				alert( msg );
				isValid = false;
			}
		}
		return isValid;
	},
	/* Float??è¸°ë¶¿ìžï§£ëŒ„ê²• */
	validateFloatRange : function(data, form) 
	{
		var isValid = true;
		var field = form[data.fieldName];
			
		if ((field.type == 'text' ||
			 field.type == 'textarea') &&
			(field.value.length > 0)) {
			
			var fMin = parseFloat(data.min);
			var fMax = parseFloat(data.max);
			var fValue = parseFloat(field.value);
			if (!(fValue >= fMin && fValue <= fMax)) {
				field.focus();
				var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
				//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
				var msg = portalPage.getMessageResourceByParam('ev.error.validation.floatRange', fieldName);
				alert( msg );
				isValid = false;
			}
		}
		return isValid;
	},
	/* ?ì¢ŽìŠœç§»ëŒ€ë±¶è¸°ëŠìƒ‡ï§£ëŒ„ê²• */
	validateCreditCard : function(data, form) 
	{
		var bValid = true;
		var field = form[data.fieldName];
		if ((field.type == 'text' ||
			 field.type == 'textarea') &&
			(field.value.length > 0)) {
			if (!this.luhnCheck(field.value)) {
				field.focus();
				var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
				//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
				var msg = portalPage.getMessageResourceByParam('ev.error.validation.creditCard', fieldName);
				alert( msg );
				bValid = false;
			}
		}
		return bValid;
	},
	/**
	 * Reference: http://www.ling.nwu.edu/~sburke/pub/luhn_lib.pl
	 */
	luhnCheck : function(cardNumber) 
	{
		if (this.isLuhnNum(cardNumber)) {
			var no_digit = cardNumber.length;
			var oddoeven = no_digit & 1;
			var sum = 0;
			for (var count = 0; count < no_digit; count++) {
				var digit = parseInt(cardNumber.charAt(count));
				if (!((count & 1) ^ oddoeven)) {
					digit *= 2;
					if (digit > 9) digit -= 9;
				};
				sum += digit;
			};
			if (sum == 0) return false;
			if (sum % 10 == 0) return true;
		};
		return false;
	},
	isLuhnNum : function(argvalue) 
	{
		argvalue = argvalue.toString();
		if (argvalue.length == 0) {
			return false;
		}
		for (var n = 0; n < argvalue.length; n++) {
			if ((argvalue.substring(n, n+1) < "0") ||
				(argvalue.substring(n,n+1) > "9")) {
				return false;
			}
		}
		return true;
	},
	/* Emailï§£ëŒ„ê²• */
	validateEmail : function(data, form) 
	{
		var bValid = true;
		var field = form[data.fieldName];
		if ((field.type == 'text' ||
			 field.type == 'textarea') &&
			(field.value.length > 0)) {
			if (!this.checkEmail(field.value)) {
				field.focus();
				var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
				//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
				var msg = portalPage.getMessageResourceByParam('ev.error.validation.email', fieldName);
				alert( msg );
				bValid = false;
			}
		}
		return bValid;
	},
	/**
	 * Reference: Sandeep V. Tamhankar (stamhankar@hotmail.com),
	 * http://javascript.internet.com
	 */
	checkEmail : function (emailStr) 
	{
	   if (emailStr.length == 0) {
		   return true;
	   }
	   var emailPat=/^(.+)@(.+)$/;
	   var specialChars="\\(\\)<>@,;:\\\\\\\"\\.\\[\\]";
	   var validChars="\[^\\s" + specialChars + "\]";
	   var quotedUser="(\"[^\"]*\")";
	   var ipDomainPat=/^(\d{1,3})[.](\d{1,3})[.](\d{1,3})[.](\d{1,3})$/;
	   var atom=validChars + '+';
	   var word="(" + atom + "|" + quotedUser + ")";
	   var userPat=new RegExp("^" + word + "(\\." + word + ")*$");
	   var domainPat=new RegExp("^" + atom + "(\\." + atom + ")*$");
	   var matchArray=emailStr.match(emailPat);
	   if (matchArray == null) {
		   return false;
	   }
	   var user=matchArray[1];
	   var domain=matchArray[2];
	   if (user.match(userPat) == null) {
		   return false;
	   }
	   var IPArray = domain.match(ipDomainPat);
	   if (IPArray != null) {
		   for (var i = 1; i <= 4; i++) {
			  if (IPArray[i] > 255) {
				 return false;
			  }
		   }
		   return true;
	   }
	   var domainArray=domain.match(domainPat);
	   if (domainArray == null) {
		   return false;
	   }
	   var atomPat=new RegExp(atom,"g");
	   var domArr=domain.match(atomPat);
	   var len=domArr.length;
	   if ((domArr[domArr.length-1].length < 2) ||
		   (domArr[domArr.length-1].length > 3)) {
		   return false;
	   }
	   if (len < 2) {
		   return false;
	   }
	   return true;
	},
	/* äºŒì‡°??ê¹…ì¤‰è¸°ëŠìƒ‡ validation. */ 
	validateIhIdNum : function(data, form) 
	{
		var bValid = true;
		var field = form[data.fieldName];
		if (field.type == 'text' ||
			field.type == 'hidden' ||
			field.type == 'textarea') {
			if (this.trim(field.value).length!=0 && !this.checkIhIdNum(field.value)) {
				form[data.fieldName + '1'].select();
				var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
				//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
				var msg = portalPage.getMessageResourceByParam('ev.error.validation.ssn', fieldName);
				alert( msg );
				bValid = false;
			}
		}
		return bValid;
	},
	/**
	 * Reference: JS Guide
	 * http://jsguide.net/ver2/articles/frame.php?artnum=002
	 */             
	checkIhIdNum : function(ihidnum)
	{	
		fmt = /^\d{6}[123456]\d{6}$/;
		if(!fmt.test(ihidnum)){
			return false;
		}
		var genCode = ihidnum.charAt(7);
		
		switch(genCode){
			case 9: case 0: {
				birthYear = "18";
			} break;
			case 1: case 2: {
				birthYear = "19";
			} break;
			case 3: case 4: {
				birthYear = "20";
			} break;
			case 5: case 6: {
				birthYear = "19";
			} break;
			case 7: case 8: {
				birthYear = "20";
			} break;
			default : birthYear = "00"; break;
		}
		birthYear += ihidnum.substr(0, 2);
		birthMonth = ihidnum.substr(2, 2) - 1;
		birthDate = ihidnum.substr(4, 2);
		birth = new Date(birthYear, birthMonth, birthDate);
		
		if( birth.getYear() % 100 != ihidnum.substr(0, 2) ||
			birth.getMonth() != birthMonth ||
			birth.getDate() != birthDate) {
			return false;
		}
		
		var arrDivide = [2, 3, 4, 5, 6, 7, 8, 9, 2, 3, 4, 5];            	
		var checkdigit = 0;            	
		for(var i=0;i<ihidnum.length-1;i++){
			checkdigit += parseInt(ihidnum.charAt(i)) * parseInt(arrDivide[i]);
		}
		checkdigit = (11 - (checkdigit%11))%10;
		if(checkdigit != ihidnum.charAt(12)){
			return false;
		}else{
			return true;
		}
	},
	
	validateKorean : function(data, form)
	{
		var bValid = true;
		var field = form[data.fieldName];             	
		if (field.type == 'text' || field.type == 'textarea') {
			if (this.trim(field.value).length==0 || !this.checkKorean(field.value)) {
				field.focus();
				var fieldName = (field.getAttribute("label") != null) ? field.getAttribute("label") : data.fieldName; 
				//var fieldName = portalPage.getMessageResource('pt.ev.property.' + ((data.labelName) ? data.labelName : data.fieldName));
				var msg = portalPage.getMessageResourceByParam('ev.error.validation.korean', fieldName);
				alert( msg );
				bValid = false;
			}
		}
		return bValid;
	},
	checkKorean : function(koreanStr)
	{          		
		for(var i=0;i<koreanStr.length;i++){
			var koreanChar = koreanStr.charCodeAt(i);
			if( !( 0xAC00 <= koreanChar && koreanChar <= 0xD7A3 ) && !( 0x3131 <= koreanChar && koreanChar <= 0x318E ) ) { 
				return false;
			}
		}
		return true;
	}
}
`1OÞª      cÚNcÚNE6MZcãUÎ   d    O^partitionKey=%28https%2Cseoultech.ac.kr%29,:https://portal.seoultech.ac.kr/javascript/validator.js necko:classified 1 strongly-framed 1 security-info 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 request-method GET response-head HTTP/1.1 200 OK
ETag: W/"27976-1424066909000"
Last-Modified: Mon, 16 Feb 2015 06:08:29 GMT
Content-Length: 27976
Date: Wed, 01 Feb 2023 07:57:02 GMT
Content-Type: text/javascript;charset=UTF-8
 original-response-headers ETag: W/"27976-1424066909000"
Connection: keep-alive
Last-Modified: Mon, 16 Feb 2015 06:08:29 GMT
Content-Length: 27976
Date: Wed, 01 Feb 2023 07:57:02 GMT
Content-Type: text/javascript;charset=UTF-8
 ctid 2 uncompressed-len 0 net-response-time-onstart 47 net-response-time-onstop 59   mH